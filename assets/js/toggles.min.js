var azad=azad||{};function azadDomReady(e){if("function"==typeof e)return"interactive"===document.readyState||"complete"===document.readyState?e():void document.addEventListener("DOMContentLoaded",e,!1)}function azadToggleAttribute(e,t,o,n){void 0===o&&(o=!0),void 0===n&&(n=!1),e.getAttribute(t)!==o?e.setAttribute(t,o):e.setAttribute(t,n)}function azadMenuToggle(o,n){var a,i,e,t,s,c=[],r=[];o&&(e=o.closest(".menu-wrapper"),(t=e.querySelectorAll(".menu-item")).forEach(function(e,t){c[t]={x:e.offsetLeft,y:e.offsetTop}}),a=o.parentElement.offsetHeight,o.classList.add("toggling-target"),o.classList.toggle("active"),t.forEach(function(e,t){r[t]={x:e.offsetLeft,y:e.offsetTop}}),i=o.parentElement.offsetHeight,o.classList.toggle("active"),e.classList.add("is-toggling"),o.classList.toggle("active"),t.forEach(function(e,t){t=c[t];0===t.y&&e.parentElement===o&&(t.y=a),e.style.transform="translate("+t.x+"px, "+t.y+"px)"}),requestAnimationFrame(function(){requestAnimationFrame(function(){e.classList.add("is-animating"),t.forEach(function(e,t){t=r[t];0===t.y&&e.parentElement===o&&(t.y=i),void 0!==n&&(e.style.transitionDuration=n+"ms"),e.style.transform="translate("+t.x+"px, "+t.y+"px)"}),void 0!==n&&(o.style.transitionDuration=n+"ms")}),s=function(){e.classList.remove("is-animating"),e.classList.remove("is-toggling"),o.classList.remove("toggling-target"),t.forEach(function(e){e.style.transform="",e.style.transitionDuration=""}),o.style.transitionDuration="",o.removeEventListener("transitionend",s)},o.addEventListener("transitionend",s)}))}function azadFindParents(e,o){var n=[];return function e(t){t=t.parentNode;t instanceof HTMLElement&&(t.matches(o)&&n.push(t),e(t))}(e),n}azad.scrolled=0,Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t}while(null!==(t=t.parentElement||t.parentNode)&&1===t.nodeType);return null}),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){var o,n=this.length;for(t=t||window,o=0;o<n;o++)e.call(t,this[o],o,this)}),azad.createEvent=function(e){var t;return"function"==typeof window.Event?t=new Event(e):(t=document.createEvent("Event")).initEvent(e,!0,!1),t},Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),o=t.length;0<=--o&&t.item(o)!==this;);return-1<o}),azad.touchEnabled={init:function(){var e;("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch||(e=["(",["-webkit-","-moz-","-o-","-ms-"].join("touch-enabled),("),"heartz",")"].join(""),window.matchMedia&&window.matchMedia(e).matches))&&document.body.classList.add("touch-enabled")}},azad.coverModals={init:function(){document.querySelector(".cover-modal")&&(this.onToggle(),this.outsideUntoggle(),this.closeOnEscape(),this.hideAndShowModals())},onToggle:function(){document.querySelectorAll(".cover-modal").forEach(function(e){e.addEventListener("toggled",function(e){var e=e.target,t=document.body;e.classList.contains("active")?t.classList.add("showing-modal"):(t.classList.remove("showing-modal"),t.classList.add("hiding-modal"),setTimeout(function(){t.classList.remove("hiding-modal")},500))})})},outsideUntoggle:function(){document.addEventListener("click",function(e){var t=e.target,o=document.querySelector(".cover-modal.active");"a"===e.target.tagName.toLowerCase()&&e.target.hash.includes("#")&&null!==o&&(this.untoggleModal(o),setTimeout(function(){document.getElementById(e.target.hash.slice(1)).scrollIntoView()},550)),t===o&&this.untoggleModal(t)}.bind(this))},closeOnEscape:function(){document.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),document.querySelectorAll(".cover-modal.active").forEach(function(e){this.untoggleModal(e)}.bind(this)))}.bind(this))},hideAndShowModals:function(){var s=document,c=window,e=s.querySelectorAll(".cover-modal"),r=s.documentElement.style,l=s.querySelector("#wpadminbar");function d(e){var t,o=c.pageYOffset;return l?(t=o+l.getBoundingClientRect().height,e?-t:t):0===o?0:-o}function u(){return{"overflow-y":c.innerHeight>s.documentElement.getBoundingClientRect().height?"hidden":"scroll",position:"fixed",width:"100%",top:d(!0)+"px",left:0}}e.forEach(function(i){i.addEventListener("toggle-target-before-inactive",function(e){var t=u(),o=c.pageYOffset,n=Math.abs(d())-o+"px",a=c.matchMedia("(max-width: 600px)");e.target===i&&(Object.keys(t).forEach(function(e){r.setProperty(e,t[e])}),c.azad.scrolled=parseInt(t.top,10),l&&(s.body.style.setProperty("padding-top",n),a.matches&&(o>=d()?i.style.setProperty("top",0):i.style.setProperty("top",d()-o+"px"))),i.classList.add("show-modal"))}),i.addEventListener("toggle-target-after-inactive",function(e){e.target===i&&setTimeout(function(){var e=azad.toggles.clickedEl;i.classList.remove("show-modal"),Object.keys(u()).forEach(function(e){r.removeProperty(e)}),l&&(s.body.style.removeProperty("padding-top"),i.style.removeProperty("top")),!1!==e&&(e.focus(),e=!1),c.scrollTo(0,Math.abs(c.azad.scrolled+d())),c.azad.scrolled=0},500)})})},untoggleModal:function(e){var t,o=!1;e.dataset.modalTargetString&&(t=e.dataset.modalTargetString,o=document.querySelector('*[data-toggle-target="'+t+'"]')),o?o.click():e.classList.remove("active")}},azad.intrinsicRatioVideos={init:function(){this.makeFit(),window.addEventListener("resize",function(){this.makeFit()}.bind(this))},makeFit:function(){document.querySelectorAll("iframe, object, video").forEach(function(e){var t,o=e.parentNode;if(e.classList.contains("intrinsic-ignore")||e.parentNode.classList.contains("intrinsic-ignore"))return!0;e.dataset.origwidth||(e.setAttribute("data-origwidth",e.width),e.setAttribute("data-origheight",e.height)),o=(t=o.offsetWidth)/e.dataset.origwidth,e.style.width=t+"px",e.style.height=e.dataset.origheight*o+"px"})}},azad.modalMenu={init:function(){this.expandLevel(),this.keepFocusInModal()},expandLevel:function(){document.querySelectorAll(".modal-menu").forEach(function(e){e=e.querySelector(".current-menu-item");e&&azadFindParents(e,"li").forEach(function(e){e=e.querySelector(".sub-menu-toggle");e&&azad.toggles.performToggle(e,!0)})})},keepFocusInModal:function(){var r=document;r.addEventListener("keydown",function(e){var t,o,n,a,i,s,c=azad.toggles.clickedEl;c&&r.body.classList.contains("showing-modal")&&(n=c.dataset.toggleTarget,s="input, a, button",a=r.querySelector(n),t=a.querySelectorAll(s),t=Array.prototype.slice.call(t),".menu-modal"===n&&(o=window.matchMedia("(min-width: 1000px)").matches?".expanded-menu":".mobile-menu",(t=t.filter(function(e){return null!==e.closest(o)&&null!==e.offsetParent})).unshift(r.querySelector(".close-nav-toggle")),(i=r.querySelector(".menu-bottom > nav"))&&i.querySelectorAll(s).forEach(function(e){t.push(e)})),c=t[t.length-1],a=t[0],n=r.activeElement,i=9===e.keyCode,!(s=e.shiftKey)&&i&&c===n&&(e.preventDefault(),a.focus()),s&&i&&a===n&&(e.preventDefault(),c.focus()))})}},azad.primaryMenu={init:function(){this.focusMenuWithChildren()},focusMenuWithChildren:function(){var e,t,o,n=document.querySelector(".primary-menu-wrapper");if(!n)return!1;for(t=0,o=(e=n.getElementsByTagName("a")).length;t<o;t++)e[t].addEventListener("focus",a,!0),e[t].addEventListener("blur",a,!0);function a(){for(var e=this;-1===e.className.indexOf("primary-menu");)"li"===e.tagName.toLowerCase()&&(-1!==e.className.indexOf("focus")?e.className=e.className.replace(" focus",""):e.className+=" focus"),e=e.parentElement}}},azad.toggles={clickedEl:!1,init:function(){this.toggle(),this.resizeCheck(),this.untoggleOnEscapeKeyPress()},performToggle:function(e,n){var a,i,s=this,c=document,r=e,l=r.dataset.toggleTarget,d="active";c.querySelectorAll(".show-modal").length||(s.clickedEl=c.activeElement),(a="next"===l?r.nextSibling:c.querySelector(l)).classList.contains(d)?a.dispatchEvent(azad.createEvent("toggle-target-before-active")):a.dispatchEvent(azad.createEvent("toggle-target-before-inactive")),i=r.dataset.classToToggle||d,e=0,a.classList.contains("cover-modal")&&(e=10),setTimeout(function(){var e,t=a.classList.contains("sub-menu")?r.closest(".menu-item").querySelector(".sub-menu"):a,o=r.dataset.toggleDuration;"slidetoggle"!==r.dataset.toggleType||n||"0"===o?t.classList.toggle(i):azadMenuToggle(t,o),("next"===l||a.classList.contains("sub-menu")?r:c.querySelector('*[data-toggle-target="'+l+'"]')).classList.toggle(d),azadToggleAttribute(r,"aria-expanded","true","false"),s.clickedEl&&-1!==r.getAttribute("class").indexOf("close-")&&azadToggleAttribute(s.clickedEl,"aria-expanded","true","false"),r.dataset.toggleBodyClass&&c.body.classList.toggle(r.dataset.toggleBodyClass),r.dataset.setFocus&&(e=c.querySelector(r.dataset.setFocus))&&(a.classList.contains(d)?e.focus():e.blur()),a.dispatchEvent(azad.createEvent("toggled")),a.classList.contains(d)?a.dispatchEvent(azad.createEvent("toggle-target-after-active")):a.dispatchEvent(azad.createEvent("toggle-target-after-inactive"))},e)},toggle:function(){var o=this;document.querySelectorAll("*[data-toggle-target]").forEach(function(t){t.addEventListener("click",function(e){e.preventDefault(),o.performToggle(t)})})},resizeCheck:function(){document.querySelectorAll("*[data-untoggle-above], *[data-untoggle-below], *[data-toggle-above], *[data-toggle-below]").length&&window.addEventListener("resize",function(){var i=window.innerWidth;document.querySelectorAll(".toggle").forEach(function(e){var t=e.dataset.untoggleAbove,o=e.dataset.untoggleBelow,n=e.dataset.toggleAbove,a=e.dataset.toggleBelow;(t||o||n||a)&&((t&&t<i||o&&i<o)&&e.classList.contains("active")||(n&&n<i||a&&i<a)&&!e.classList.contains("active"))&&e.click()})})},untoggleOnEscapeKeyPress:function(){document.addEventListener("keyup",function(e){"Escape"===e.key&&document.querySelectorAll("*[data-untoggle-on-escape].active").forEach(function(e){e.classList.contains("active")&&e.click()})})}},azadDomReady(function(){azad.toggles.init(),azad.coverModals.init(),azad.intrinsicRatioVideos.init(),azad.modalMenu.init(),azad.primaryMenu.init(),azad.touchEnabled.init()});
//# sourceMappingURL=toggles.min.js.map
